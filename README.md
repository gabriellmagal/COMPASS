# COMPASS
#### *Corpus Mapper for Phonetical And Syllabic Structures*
---

Developed by:
**Gabriel Magalhães da Silveira**
<br>*Universidade Federal de Minas Gerais (UFMG)*
<br>Belo Horizonte, Brazil, 2025

---

[![License: AGPL v3](https://img.shields.io/badge/License-AGPL_v3-blue.svg?style=for-the-badge)](https://www.gnu.org/licenses/agpl-3.0)

### About

**COMPASS** is a work-in-progress suite of computational tools designed to process and analyze phonetic alignments of **Brazilian Portuguese**, specifically those generated by the [**Montreal Forced Aligner (MFA)**](https://montreal-forced-aligner.readthedocs.io/). The project aims to bridge the gap between the raw output of a forced aligner and the need for queries based on complex phonological structures, such as the syllable.

The workflow is divided into three main stages, each executed by a dedicated R script:

1.  **Syllabic Structuring:** The first script processes the raw `.TextGrid` files from MFA, enriching the alignment by adding a syllable tier with phonetic syllabification and stress placement information.
2.  **Indexing and In-depth Analysis:** The second script further analyzes the structure by classifying each phone (as Onset, Nucleus, or Coda) and consolidates all files into a single, query-optimized database (`.rds` file), enriching it with lemma and part-of-speech information.
3.  **Interactive Search and Exploration:** The final component is the graphical user interface (a Shiny app), which allows the researcher to perform complex queries, visually explore the results through an interactive **Key Word in Context (KWIC)** display, and extract the corresponding audio segments and `.TextGrid` annotations.

### Online Demo

A public version of the **COMPASS** interface is available for demonstration purposes. It runs on a sample `.TextGrid` file and allows for the exploration of all search functionalities.

**Click below to access the COMPASS online demo**

[![Shiny App](https://img.shields.io/badge/shiny-app-blue?style=for-the-badge&logo=rstudio)](https://gabrielmagal.shinyapps.io/COMPASS/)

### Local Usage and Installation

The full version of **COMPASS**, which allows for the analysis of your own corpus, is available for local use by downloading the scripts from this repository. A web-based version for processing private corpora is not feasible due to the large file sizes involved and the intensive pre-processing required, which exceed the capabilities of a simple online demonstration platform.

The local toolkit allows you to process entire folders of MFA-aligned TextGrids and use all features, including data extraction. To get started, download or clone this repository.

### How to Cite this Tool

To credit this tool in academic work, please use the following citation:

```
SILVEIRA, Gabriel M. da. (2025). COMPASS: Corpus Mapper for Phonetical And Syllabic Structures. GitHub. https://github.com/gabriellmagal/COMPASS
```

### Contact

For questions, suggestions, or collaborations, please contact: *gabriellmagallhaes@gmail.com*

---
© 2025, Gabriel Magalhães da Silveira. All rights reserved.

### License

This project is licensed under the GNU Affero General Public License v3.0. See the [LICENSE](LICENSE) file for full details.
