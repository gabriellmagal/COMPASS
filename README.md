# COMPASS
#### *Corpus Mapper for Phonetic And Syllabic Structures*
---

Developed by:
**Gabriel Magalhães da Silveira**
<br>*Universidade Federal de Minas Gerais (UFMG)*
<br>Belo Horizonte, Brazil, 2025

---

### About

**COMPASS** is a work-in-progress suite of computational tools designed to process and analyze phonetic alignments of **Portuguese**, specifically those generated by the [**Montreal Forced Aligner (MFA)**](https://montreal-forced-aligner.readthedocs.io/). The project aims to bridge the gap between the raw output of a forced aligner and the need for queries based on complex phonological structures, such as the syllable.

The workflow is divided into three main stages, each executed by a dedicated R script:

1.  **Syllabic Structuring:** The first script processes the raw `.TextGrid` files from MFA, enriching the alignment by adding a syllable tier with phonetic syllabification and stress placement information.
2.  **Indexing and In-depth Analysis:** The second script further analyzes the structure by classifying each phone (as Onset, Nucleus, or Coda) and consolidates all files into a single, query-optimized database (`.rds` file), enriching it with lemma and part-of-speech information.
3.  **Interactive Search and Exploration:** The final component is the graphical user interface (a Shiny app), which allows the researcher to perform complex queries, visually explore the results through an interactive **Key Word in Context (KWIC)** display, and extract the corresponding audio segments and `.TextGrid` annotations.

### Core Methodology: Syllabification

The "Syllabic Structuring" script (Stage 1) is the phonetic core of COMPASS. It is built upon the universal phonetic principle known as the **Maximum Onset Principle (MOP)**.

This principle dictates that when a consonant cluster appears between two vowels (V**C...C**V), the algorithm must assign the maximum possible number of consonants to the **onset** of the following syllable. This assignment must be consistent with the language's phonotactic constraints, which for Portuguese includes a specific set of valid "tautosyllabic consonantal clusters" **(Silva, 2003)**.

### Online Demo

A public version of the **COMPASS** interface is available for demonstration purposes. It runs on a sample `.TextGrid` file and allows for the exploration of all search functionalities.

**Click below to access the COMPASS online demo**

[![Shiny App](https://img.shields.io/badge/shiny-app-blue?style=for-the-badge&logo=rstudio)](https://gabrielmagal.shinyapps.io/COMPASS/)

### Local Usage and Installation

The full version of **COMPASS**, which allows for the analysis of your own corpus, is available for local use by downloading the scripts from this repository. A web-based version for processing private corpora is not feasible due to the large file sizes involved and the intensive pre-processing required, which exceed the capabilities of a simple online demonstration platform.

The local toolkit allows you to process entire folders of MFA-aligned TextGrids and use all features, including data extraction. To get started, download or clone this repository.

### How to Cite this Tool

To credit this tool in academic work, please use the following citation:

**Plain Text (ABNT):**
```
SILVEIRA, Gabriel M. da. (2025). COMPASS: Corpus Mapper for Phonetic And Syllabic Structures. GitHub. https://github.com/gabriellmagal/COMPASS
```
**BibLaTeX (`@software` entry - recommended for Biber):**
```bibtex
@software{Silveira2025_COMPASS,
  author    = {Gabriel Magalh{\~a}es da Silveira},
  title     = {COMPASS: Corpus Mapper for Phonetic And Syllabic Structures},
  year      = {2025},
  publisher = {GitHub},
  version   = {1.0.0},
  url       = {https://github.com/gabriellmagal/COMPASS}
}
```
**Traditional BibTeX (`@misc` entry):**
```bibtex
@misc{Silveira2025_COMPASS_misc,
  author       = {Gabriel Magalh{\~a}es da Silveira},
  title        = {COMPASS: Corpus Mapper for Phonetic And Syllabic Structures},
  year         = {2025},
  publisher    = {GitHub},
  howpublished = {\url{https://github.com/gabriellmagal/COMPASS}},
  note         = {Accessed: YYYY-MM-DD}
}
```
### Contact

For questions, suggestions, or collaborations, please contact: *gabriellmagallhaes@gmail.com*

---

McAuliffe, Michael, Michaela Socolof, Elias Stengel-Eskin, Sarah Mihuc, Michael Wagner, and Morgan Sonderegger (2017). Montreal Forced Aligner [Computer program]. Version 1.0.0, retrieved 05 May 2017 from http://montrealcorpustools.github.io/Montreal-Forced-Aligner/.

BISOL, Leda. A sílaba e seus constituintes. In: NEVES, Maria Helena de Moura (org.). Gramática do Português Falado. Vol. VII: Novos Estudos. São Paulo/Campinas: Humanitas FFLCH/USP e Editora da Unicamp, 1999. p. 701-742.

SILVA, Thaïs Cristófaro. Fonética e Fonologia do Português: Roteiro de estudos e guia de exercícios . 7. ed. São Paulo: Contexto, 2003.

---

### License

This project is licensed under the GNU Affero General Public License v3.0. See the [LICENSE](LICENSE) file for full details.









